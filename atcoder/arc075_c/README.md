# 問題

https://atcoder.jp/contests/arc075/tasks/arc075_c

`N`要素の整数列`A`の連続する部分列のうち、算術平均が`K`以上であるものを数える。

# メモ

「整数列`A`の連続する部分列のうち、算術平均が`K`以上である」\
↓\
「整数列`A`の連続する部分列のうち、和が`K*[部分列の長さ]`以上である」

の言い換えはすぐにわかったが、そこから

↓\
「整数列`B: B[i] = A[i] - K`の連続する部分列のうち、和が`0`以上である」

の言い換えに気づくまでかなり時間がかかった。\
ここまで来ると、条件が`K`にも部分列の長さにも依存しないので、あとは流れでいける:

0. `ans = 0`とする
1. `i = 0...N`について以下を繰り返す:
    - 部分和`S[i] = B[0] + ... + B[i]`が0以上なら`ans`を1増やす
    - `S[i]`以下となる部分和`S[j] (j = 0...i)`の数を`ans`に加える(※)
2. `ans`を出力

(※)のためにはセグメント木的なものを使いたいところだが、制約上`B[]`のとりうる値の範囲が広すぎてそのままでは無理。
しかし、一旦`S[i]`をすべて計算した上で、`S[i]`の順位をセグ木に乗せればOK。\

[セグ木が早ければな](https://atcoder.jp/contests/arc075/submissions/4570765)。

# 感想

流石に自前のRubyセグ木が遅すぎるのでBITを用意した。
