# 問題

https://atcoder.jp/contests/yahoo-procon2019-qual/tasks/yahoo_procon2019_qual_d

# メモ

- すぬけ君の耳をひとつ選び、石を1個入れる
- 石が1個以上入っているすぬけ君の耳をひとつ選び、石を1個取り出す

耳に入っている石の数をできるだけ`A[i]`に近づけろ、ということか。

操作を終えた直後の石の数を`B[i]`とするとき、`Σ|A[i]-B[i]|`の最小値を求めよ、という問題。

散歩は明らかに可逆なので、出発点と終了点をそれぞれ`a,b`としたとき、`a <= b`としてよい。

`c`番目の耳について、

- `c <= a <= b`
  - 耳`c`に石を置くにはかならず`c`から左方向に進む必要があるが、`c <= b`なので必ず戻る必要がある。
  - つまり、`c`に置ける石は必ず偶数個となる。
- `a <= b < c`
  - 上と同じ理由で偶数個しか置けない。
- `a < c <= b`
  - 上とは逆の理屈で奇数個しか置けない。
  - `a < b`の時、`b`には奇数個しか置けないが、`a == b`の時は偶数個しか置けない。

上記のルールさえ守れば、任意の数の石を置くことができる。**ただし0は例外。**

区間`[1..L]`は、左から順に

- A: 石を置かない(0個置く)区間
- B: 石を(2以上の)偶数個置く区間
- C: 石を奇数個置く区間
- D: 石を(2以上の)偶数個置く区間
- F: 石を置かない(0個置く)区間

に分けられることになる。

そこで、上記5つを状態と見てDPを行う。\
各状態は、自分自身または自分より「後」の状態に遷移できるとする。\
計算量は`O(5L) = O(L)`.

# ひとことで

DPを思いつくのが遅い