# 問題

https://atcoder.jp/contests/agc007/tasks/agc007_b

# メモ

点`(i, a[i])`と点`(i, -b[i])`を脳内にプロットしてあれこれいじってたら解法が降ってきた。\
降ってくるようではいかんのだが。

初期状態を以下のようにする(1-indexed):

- `a[i] = i`
- `b[i] = N+1-i`

初期状態では、すべての`i`について`a[i] + b[i] = N + 1`となっている。

続いて、`i = 1..N`について、以下の操作を繰り返す:

- `j = 1..p[i]`について、`b[j] += i`
- `k = p[i]..N`について、`a[k] += i`

この操作により`a[i]`, `b[i]`の大小関係は変化しないが、`a[l] + b[l]`の値は

- `i == l` → 不変
- `i != l` → i増加する

となる。\
すべての操作が終わると、`a[p[i]] + b[p[i]]`の値は`N+1`から`i(i+1)/2 - i`だけ増加して`N+1+i(i-1)/2`となる。\
これは`i >= 1`について狭義単調増加なので題意をみたす。
