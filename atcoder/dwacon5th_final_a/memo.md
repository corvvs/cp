# 問題概要

`N`頂点`M`辺の単純連結グラフの頂点が先手色・後手色に塗り分けられている。\
「ある頂点に置かれている駒を、グラフに従って隣接頂点に動かす」という操作を二人のプレイヤーが交互に`K`回繰り返す時、\
先手・後手のどちらが勝つかをすべての初期位置について判定せよ。

# 制約

- `2 <= N <= 1e5`
- `1 <= M <= 1e5`
- `1 <= K <= 1e18`
- 頂点はすべて先手色(B)または後手色(R)

# 回答過程

以下のケースはほぼ自明:

- 初期位置が後手色・かつ`K`が偶数 → **後手必勝**
  - 先手がどこに動かしても、後手が元の位置に戻し続けることで後手が勝つ。
  - 判定の計算量は`O(1)`
- 初期位置の隣に先手色の頂点がある・かつ`K`が奇数 → **先手必勝**
  - 先手色の頂点に動かすことで、上記の状況に持ち込める
  - 判定のならし計算量は`O(M)`

そうでない場合はどうだろうか？

`K`が大きいので、判定にかけられるのは`O(logK)`程度であろうと思われる。

## `K`が奇数・かつ初期位置の隣の頂点が全て後手色 → **後手必勝**

先手がどこに動かしても、後手が元の位置に戻し続けることで、最後の操作で必ず後手色の頂点に移る。\
判定のならし計算量は`O(M)`

## `K`が偶数・かつ初期位置が先手色

隣接頂点により分かれる:

- 「隣接頂点がすべて先手色の頂点」であるような隣接頂点が存在する → **先手必勝**
  - 判定のならし計算量は`O(M)`
- 「隣接頂点に後手色がある」ような隣接頂点しかない → **後手必勝**
  - 判定のならし計算量は`O(M)`


