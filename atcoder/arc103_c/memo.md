# 問題概要

長さ`N`の配列`A`が与えられる。\
以下の条件を満たす`N`頂点の木が存在するかどうか判定し、存在するなら1つ構成する:

- 要素`A[n-1]`が`1` <=> 切断するとサイズ`n`の連結成分ができるような辺が存在する
- 要素`A[n-1]`が`0` <=> 切断するとサイズ`n`の連結成分ができるような辺が存在しない

# 回答過程

## 不可能条件

連結度`a`の木の辺を1つ切断すると、2つの木できる。これらの木を`b`,`c`とすると、\
`aの連結度 = bの連結度 + cの連結度`となる。\
連結度は1以上なので、`aの連結度 > bの連結度, cの連結度`.\
従って、`N`頂点の木(=連結度`N`の木)を切断して連結度`N`の木を得ることは不可能。\
→ `A[N-1] == 0`ならば、不可能としてよい。

また、`aの連結度 = bの連結度 + cの連結度`であるから、任意の`i = 0...N`について、`A[i] == A[N-1-i]`でなければならない。
→ `A[i] != A[N-2-i]`となる`i=0..N-2`が存在するなら不可能としてよい。

さらに、木には末端があるので、`A[0] == 0`であれば不可能としてよい。

## 構成

上記の３条件のどれも満たさない場合について、木の構成を試みる。\
星は木であり、木を直列に繋いだものは木であることから、いくつかの星の中心を直列に繋いだものも木となる。

`i=1..N/2`のうち、`A[i-1] == 1`となるもの、つまり`J = { i | A[i-1] == 1 }`が`S`個あるとする。\
一方の端から数えて`k=0...S`番目の星の連結度を`S[k]`とすると、`k`番目と`k+1`番目の星を繋ぐ辺を切断することで、連結度`Σ[j=0..k]S[j]`と連結度`N - Σ[j=0..k]S[j]`の2つの木に分かれることになる。

よって、`S[k] = A[J[k]] + Σ[j=0...k]S[j]`とすることで、題意をみたす木が得られる。多分。
